# 组件层：模型编码器 (Model Coder) 相关提示词

本文档概述定义在 `rdagent/components/coder/model_coder/prompts.yaml` 文件中的提示词。这些提示词主要由通用的模型编码器组件使用，负责根据任务描述和上下文生成或修改模型代码。

## 提示词概览

-   **源文件路径**: `rdagent/components/coder/model_coder/prompts.yaml`

-   **主要用途**:
    -   **代码生成/修改**: 指导 LLM 根据给定的模型规范、任务需求（例如 `Experiment` 对象中的描述）、现有代码（如果有）以及历史反馈，生成新的模型实现代码或修改已有模型代码。
    -   **遵循规范**: 确保生成的代码符合特定的模型架构、接口、或性能要求。
    -   **错误修复与代码完善**: 基于先前执行的错误日志或静态分析结果，指导LLM修复代码中的bug或改进代码质量。

-   **关键输入变量 (通用预期)**:
    -   `{{ task_description }}`: 对模型任务的具体描述（例如，模型类型、输入输出、性能目标）。
    -   `{{ existing_code }}`: (可选) 已有的模型代码片段，供LLM参考或修改。
    -   `{{ context_code }}`: (可选) 与模型相关的其他上下文代码（例如，数据加载、特征处理脚本）。
    -   `{{ feedback }}`: (可选) 来自先前尝试的反馈信息，例如编译错误、测试失败详情、性能不达标等。
    -   `{{ output_format_specification }}`: (可选) 对输出代码的特定格式或结构要求。

-   **输出格式要求**:
    -   主要是生成的模型代码文本。
    -   也可能包含对代码的解释、修改说明或遇到的问题的描述（可能以JSON或其他结构化形式）。

-   **在流程中的位置**:
    -   当研发流程中涉及到具体模型的设计、实现或迭代优化时，`ModelCoder` 组件会被调用。
    -   例如，在 `DataScienceRDLoop` 的 `coding` 阶段，如果当前任务是 `ModelTask`，则可能会使用到这类提示词。

-   **设计说明**:
    -   这些提示词需要能够处理从零开始生成模型代码，以及在现有代码基础上进行修改和调试等多种情况。
    -   它们可能需要根据具体的模型类型（例如，PyTorch, TensorFlow, Scikit-learn）或特定场景（如Qlib中的模型）进行特化。更具体的提示词可能定义在场景相关的 `prompts.yaml` 中。

**注意**: 此文档提供的是对该路径下提示词用途的通用预期。具体提示词条目和内容需查阅源文件。随着框架的演进，这里的提示词可能会被更细化或被场景特定提示词覆盖。
