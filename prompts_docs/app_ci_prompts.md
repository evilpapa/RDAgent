# 应用层：CI (持续集成) 工具提示词

本文档概述定义在 `rdagent/app/CI/prompts.yaml` 文件中的提示词。这些提示词是为 `rdagent/app/CI/` 应用（一个用于辅助持续集成流程的工具）而设计的。

## 提示词概览 (通用预期)

-   **源文件路径**: `rdagent/app/CI/prompts.yaml`

-   **主要用途 (基于CI工具的通用功能推测)**:
    -   **代码变更分析与摘要**: 指导 LLM 分析一次代码提交 (commit) 或一个拉取请求 (Pull Request) 中的代码变更内容，并生成简洁的变更摘要。
    -   **潜在问题识别**: (可能) 引导 LLM 基于代码变更，初步识别可能引入的bug、性能问题、或与项目规范不符之处。
    -   **测试用例建议**: (可能) 根据代码变更的性质，建议需要添加或修改的单元测试或集成测试用例。
    -   **自动化报告生成**: (可能) 将分析结果、问题列表、测试建议等合成为一个初步的CI报告片段。
    -   **与静态分析工具结果的整合**: (可能) 接收来自其他静态分析工具（如linters, code scanners）的输出，并对其进行解读、总结或优先级排序。

-   **关键输入变量 (通用预期)**:
    -   `{{ code_diff }}`: 代码变更的 diff 内容。
    -   `{{ commit_message }}`: (可选) 本次提交的commit message。
    -   `{{ pull_request_description }}`: (可选) Pull Request 的描述信息。
    -   `{{ project_coding_standards }}`: (可选) 项目的编码规范或最佳实践文档摘要。
    -   `{{ static_analysis_reports }}`: (可选) 其他CI工具输出的静态分析结果。

-   **输出格式要求**:
    -   可能是结构化的JSON，包含摘要、问题列表（每个问题有类型、严重性、位置、建议等字段）、测试用例建议等。
    -   也可能是Markdown格式的报告片段。

-   **在流程中的位置**:
    -   这些提示词由 `rdagent/app/CI/run.py` (或类似的应用入口脚本) 在CI流程的特定阶段调用。
    -   例如，当一个新的commit被推送到仓库，或者一个新的PR被创建时，CI服务器可能会触发此RD-Agent应用，后者使用这些提示词来分析代码并输出结果。

-   **设计说明**:
    -   CI场景下的提示词需要LLM具备较好的代码理解能力，特别是对代码变更的语义理解。
    -   可能需要引导LLM关注特定的代码质量维度（如可读性、可维护性、安全性、性能）。
    -   输出需要简洁、明确，便于CI系统或其他开发者快速定位问题。

**注意**: 此文档提供的是对该路径下提示词用途的通用预期。具体提示词条目和内容需查阅源文件 `rdagent/app/CI/prompts.yaml` 及对应的 `run.py` 实现。
